<!DOCTYPE html>
<html>
<head>
    <title>Gemini Voice AI</title>
</head>
<body>

<h2>ðŸŽ¤ Gemini Voice Assistant</h2>
<button onclick="start()">à¤¬à¥‹à¤²à¥‹</button>
<p id="text"></p>
<p id="reply"></p>

<script>
function speak(text) {
    let msg = new SpeechSynthesisUtterance(text);
    msg.lang = "hi-IN";
    window.speechSynthesis.speak(msg);
}

function start() {
    let recognition = new webkitSpeechRecognition();
    recognition.lang = "hi-IN";

    recognition.onresultconsole.log("User said:", spoken); = function(event) {
        let spoken = event.results[0][0].transcript;
        document.getElementById("text").innerText = "à¤¤à¥à¤®: " + spoken;

        fetch("/chat", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ text: spoken })
        })
        .then(res => res.json())
        .then(data => {
            document.getElementById("reply").innerText = "AI: " + data.reply;
            speak(data.reply);
        });
    };

    recognition.start();
}
</script>

</body>
</html>
